{"ast":null,"code":"import DataTable from '@/components/DataTableFin.vue';\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'Tipo',\n  components: {\n    DataTable\n  },\n\n  data() {\n    return {\n      data: null,\n      despesasCategoryEdit: {\n        id: null,\n        name: null,\n        tipo: null\n      },\n      centerDialogVisible: false,\n      bootbox: null,\n      despesasCategory: {\n        name: null,\n        tipo: null,\n        usuario: null\n      },\n      listaData: {},\n      pageable: {},\n      listaTipo: {},\n      page: null,\n      acoes: [{\n        text: 'Editar',\n        codigo: 'EDITAR',\n        icon: 'el-icon-edit'\n      }, {\n        text: 'Excluir',\n        codigo: 'EXCLUIR',\n        icon: 'el-icon-delete'\n      }],\n      columns: [{\n        label: 'Nome',\n        prop: 'name'\n      }, {\n        label: 'Tipo',\n        prop: 'tipo.name'\n      }]\n    };\n  },\n\n  async mounted() {\n    this.tipo();\n  },\n\n  methods: {\n    atualizarTabela(newPage) {\n      this.page = this.listaData.pageable.pageNumber = newPage - 1;\n      this.tipo();\n    },\n\n    async tipo() {\n      const listaData = await this.axios.get(`http://localhost:1081/registroCategoriaDespesas/listar/page/${1}?size=10&page=${this.page}&sort=data_cadastro,desc`);\n      this.listaData = listaData.data;\n      const {\n        empty,\n        number,\n        numberOfElements,\n        pageable,\n        totalElements\n      } = this.listaData;\n      this.pageable = {\n        empty,\n        number,\n        numberOfElements,\n        pageable,\n        totalElements\n      };\n      const listaTipo = await this.axios.get(`http://localhost:1081/despesasTipo/listar`);\n      this.listaTipo = listaTipo.data;\n    },\n\n    async despesasCategoryByTipo() {\n      this.despesasCategory.usuario = 1;\n      await this.axios.post('http://localhost:1081/registroCategoriaDespesas/inserir', this.despesasCategory).then(response => {\n        if (response.status === 200) {\n          this.despesasCategory = {};\n          this.$notify({\n            title: 'Sucesso!',\n            message: 'Registro salvo!',\n            type: 'success'\n          });\n        }\n      }).catch(response => {\n        if (response.status !== 200) {\n          this.$notify.error({\n            title: 'Erro!',\n            message: 'Erro ao salvar registro!'\n          });\n        }\n      });\n      await this.tipo();\n    },\n\n    editar(data) {\n      this.data = data.id;\n      this.centerDialogVisible = true;\n    },\n\n    async despesasEdit(data) {\n      data.id;\n      this.despesasCategoryEdit.id = await this.axios.post('http://localhost:1081/registroCategoriaDespesas/edit', this.despesasCategoryEdit).then(response => {\n        if (response.status === 200) {\n          this.despesasCategory = {};\n          this.$notify({\n            title: 'Sucesso!',\n            message: 'Registro salvo!',\n            type: 'success'\n          });\n        }\n      }).catch(response => {\n        if (response.status !== 200) {\n          this.$notify.error({\n            title: 'Erro!',\n            message: 'Erro ao salvar registro!'\n          });\n        }\n      });\n      await this.tipo();\n      this.centerDialogVisible = false;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqDA;AAEA;EACA;EACAA,YAFA;EAGAC;IACAC;EADA,CAHA;;EAMAC;IACA;MACAA,UADA;MAEAC;QACAC,QADA;QAEAL,UAFA;QAGAM;MAHA,CAFA;MAOAC,0BAPA;MAQAC,aARA;MASAC;QACAT,UADA;QAEAM,UAFA;QAGAI;MAHA,CATA;MAcAC,aAdA;MAeAC,YAfA;MAgBAC,aAhBA;MAiBAC,UAjBA;MAkBAC,QACA;QACAC,cADA;QAEAC,gBAFA;QAGAC;MAHA,CADA,EAMA;QACAF,eADA;QAEAC,iBAFA;QAGAC;MAHA,CANA,CAlBA;MA8BAC,UACA;QACAC,aADA;QAEAC;MAFA,CADA,EAKA;QACAD,aADA;QAEAC;MAFA,CALA;IA9BA;EAyCA,CAhDA;;EAiDA;IACA;EACA,CAnDA;;EAoDAC;IACAC;MACA;MACA;IACA,CAJA;;IAKA;MACA;MACA;MACA;QAAAC;QAAAC;QAAAC;QAAAd;QAAAe;MAAA;MACA;QACAH,KADA;QAEAC,MAFA;QAGAC,gBAHA;QAIAd,QAJA;QAKAe;MALA;MAOA;MACA;IACA,CAlBA;;IAmBA;MACA;MACA;QACA;UACA;UACA;YACAC,iBADA;YAEAC,0BAFA;YAGAC;UAHA;QAKA;MACA,CATA,EASAC,KATA,CASAC;QACA;UACA;YACAJ,cADA;YAEAC;UAFA;QAIA;MACA,CAhBA;MAiBA;IACA,CAvCA;;IAwCAI;MACA;MACA;IACA,CA3CA;;IA4CA;MACA9B;MACA,+BACA;QACA;UACA;UACA;YACAyB,iBADA;YAEAC,0BAFA;YAGAC;UAHA;QAKA;MACA,CATA,EASAC,KATA,CASAC;QACA;UACA;YACAJ,cADA;YAEAC;UAFA;QAIA;MACA,CAhBA,CADA;MAkBA;MACA;IACA;;EAlEA;AApDA","names":["name","components","DataTable","data","despesasCategoryEdit","id","tipo","centerDialogVisible","bootbox","despesasCategory","usuario","listaData","pageable","listaTipo","page","acoes","text","codigo","icon","columns","label","prop","methods","atualizarTabela","empty","number","numberOfElements","totalElements","title","message","type","catch","response","editar"],"sourceRoot":"src/views","sources":["Tipo.vue"],"sourcesContent":["<template lang=\"pug\">\r\ndiv\r\n    el-col(:span=\"12\")\r\n    el-col(:span=\"12\")\r\n        el-card\r\n            div(style=\"display:flex; justify-content: space-between; position:relative; align-items:center;\")\r\n                div\r\n                    label(style='font-size: 20px; text-align:center; display:flex; margin-left:20px; font-weight:bolder') Listagem das despesas\r\n                div\r\n                el-popover(width=\"500\",trigger=\"click\")\r\n                    div(style=\"padding:10px\")\r\n                        label(style=\"font-size:14px; margin-right:10px; font-weight:bold;\") Digite o nome da despesa:\r\n                        el-input(v-model=\"despesasCategory.name\", size=\"small\" placeholder=\"Digite um nome\" style=\"width:215px\")\r\n                    div(style=\"padding:10px\")\r\n                        label(style=\"font-size:14px; margin-right:10px;font-weight:bold;\") Selecione a categoria da despesa:\r\n                        el-select(v-model=\"despesasCategory.tipo\",clearable,filterable ,style=\"width:200px\", size=\"small\")\r\n                            el-option(\r\n                                v-for=\"select in listaTipo\"\r\n                                :key=\"select.id\"\r\n                                :label=\"select.name\"\r\n                                :value=\"select.id\"\r\n                            )\r\n                        el-button(type=\"primary\", @click=\"despesasCategoryByTipo()\", style=\"display:flex; justify-content:center; position:relative;\") Registrar\r\n                    el-button(type=\"primary\" slot=\"reference\") Registrar despesas\r\n            data-table(\r\n                :pageable='pageable'\r\n                :data=\"listaData.content\",\r\n                :columns='columns',\r\n                @atualizarTabela='atualizarTabela',\r\n                :acoes='acoes',\r\n                @editar=\"editar\"\r\n            )\r\n            el-dialog(title=\"Edição\", :visible.sync=\"centerDialogVisible\", width=\"30%\", center)\r\n                div(style=\"padding:10px\")\r\n                    label(style=\"font-size:14px; margin-right:10px; font-weight:bold;\") Digite o nome da despesa:\r\n                    el-input(v-model=\"despesasCategoryEdit.name\", size=\"small\" placeholder=\"Digite um nome\" style=\"width:215px\")\r\n                div(style=\"padding:10px\")\r\n                    label(style=\"font-size:14px; margin-right:10px;font-weight:bold;\") Selecione a categoria da despesa:\r\n                    el-select(v-model=\"despesasCategoryEdit.tipo\",clearable,filterable ,style=\"width:200px\", size=\"small\")\r\n                        el-option(\r\n                            v-for=\"select in listaTipo\"\r\n                            :key=\"select.id\"\r\n                            :label=\"select.name\"\r\n                            :value=\"select.id\"\r\n                        )\r\n                \r\n                <span slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"centerDialogVisible = false\">Cancel</el-button>\r\n                    <el-button type=\"primary\" @click=\"centerDialogVisible = false\">Confirm</el-button>\r\n                </span>\r\n            </el-dialog>\r\n</template>\r\n<script>\r\n    import DataTable from '@/components/DataTableFin.vue'\r\n\r\n    export default{\r\n        // eslint-disable-next-line vue/multi-word-component-names\r\n        name: 'Tipo',\r\n        components: {\r\n            DataTable\r\n        },\r\n        data() {\r\n            return{\r\n                data:null,\r\n                despesasCategoryEdit:{\r\n                    id:null,\r\n                    name:null,\r\n                    tipo:null\r\n                },\r\n                centerDialogVisible:false,\r\n                bootbox:null,\r\n                despesasCategory:{\r\n                    name:null,\r\n                    tipo:null,\r\n                    usuario:null\r\n                },\r\n                listaData:{},\r\n                pageable: {},\r\n                listaTipo:{},\r\n                page:null,\r\n                acoes: [\r\n                        {\r\n                            text: 'Editar',\r\n                            codigo: 'EDITAR',\r\n                            icon: 'el-icon-edit'\r\n                        },\r\n                        {\r\n                            text: 'Excluir',\r\n                            codigo: 'EXCLUIR',\r\n                            icon: 'el-icon-delete'\r\n                        }\r\n                ],\r\n                columns: [\r\n                    {\r\n                        label:'Nome',\r\n                        prop: 'name',\r\n                    },\r\n                    {\r\n                        label:'Tipo',\r\n                        prop: 'tipo.name',\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        async mounted() {\r\n            this.tipo();\r\n        },\r\n        methods: {\r\n            atualizarTabela(newPage) {\r\n                this.page = this.listaData.pageable.pageNumber = newPage - 1;\r\n                this.tipo();\r\n            },\r\n            async tipo() {\r\n                const listaData = await this.axios.get(`http://localhost:1081/registroCategoriaDespesas/listar/page/${1}?size=10&page=${this.page}&sort=data_cadastro,desc`);\r\n                this.listaData = listaData.data;\r\n                const {empty, number,numberOfElements,pageable,totalElements} = this.listaData;\r\n                this.pageable = {\r\n                    empty,\r\n                    number,\r\n                    numberOfElements,\r\n                    pageable,\r\n                    totalElements\r\n                }\r\n                const listaTipo = await this.axios.get(`http://localhost:1081/despesasTipo/listar`);\r\n                this.listaTipo = listaTipo.data;\r\n            },\r\n           async despesasCategoryByTipo() {\r\n                this.despesasCategory.usuario = 1;\r\n                await this.axios.post('http://localhost:1081/registroCategoriaDespesas/inserir', this.despesasCategory ).then(response => {\r\n                    if(response.status === 200) {\r\n                        this.despesasCategory = {};\r\n                        this.$notify({\r\n                                title: 'Sucesso!',\r\n                                message: 'Registro salvo!',\r\n                                type: 'success'\r\n                            })\r\n                    }\r\n                }).catch(response => {\r\n                    if(response.status !== 200) {\r\n                        this.$notify.error({\r\n                            title: 'Erro!',\r\n                            message: 'Erro ao salvar registro!',\r\n                        })\r\n                    }\r\n                })\r\n                await this.tipo();\r\n            },\r\n            editar(data){\r\n                this.data = data.id;\r\n                this.centerDialogVisible = true;\r\n            },\r\n            async despesasEdit(data){\r\n                data.id;\r\n                this.despesasCategoryEdit.id = \r\n                await this.axios.post('http://localhost:1081/registroCategoriaDespesas/edit', this.despesasCategoryEdit ).then(response => {\r\n                    if(response.status === 200) {\r\n                        this.despesasCategory = {};\r\n                        this.$notify({\r\n                                title: 'Sucesso!',\r\n                                message: 'Registro salvo!',\r\n                                type: 'success'\r\n                            })\r\n                    }\r\n                }).catch(response => {\r\n                    if(response.status !== 200) {\r\n                        this.$notify.error({\r\n                            title: 'Erro!',\r\n                            message: 'Erro ao salvar registro!',\r\n                        })\r\n                    }\r\n                })\r\n                await this.tipo();\r\n                this.centerDialogVisible = false;\r\n            }\r\n            \r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n    .justify {\r\n    justify-content: space-between;\r\n    display: flex;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}